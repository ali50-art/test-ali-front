(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4],{6840:function(t,e,a){Promise.resolve().then(a.bind(a,1608))},1608:function(t,e,a){"use strict";a.r(e);var o=a(7437),s=a(2265),l=a(7908),i=a(7535),r=a(3449),c=a(8024);e.default=()=>{let[t,e]=(0,s.useState)(),[a,n]=(0,s.useState)([]),d=async t=>{let e=localStorage.getItem("token");await l.Z.post("".concat("http://127.0.0.1:5090","/api/vote"),{audiobook_id:t},{headers:{Authorization:"Bearer ".concat(e)}}),u()},u=async()=>{let t=localStorage.getItem("token");try{let e=await l.Z.get("".concat("http://127.0.0.1:5090","/api/list_audiobook"),{headers:{Authorization:"Bearer ".concat(t)}});n(e.data.data)}catch(t){console.log(t)}};return(0,s.useEffect)(()=>{u()},[]),(0,o.jsxs)("div",{className:"container mx-auto p-4",children:[(0,o.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Audiobooks"}),(0,o.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:a.map((t,e)=>(0,o.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-4 transition-transform transform hover:scale-105 relative",children:[(0,o.jsx)("img",{src:t.cover_image_url,alt:t.title,className:"w-full h-40 object-cover rounded-md mb-2"}),(0,o.jsx)("h2",{className:"text-lg font-semibold",children:t.title}),(0,o.jsx)("p",{className:"text-gray-700",children:t.author}),(0,o.jsxs)("p",{className:"text-gray-600",children:["Votes: ",t.vote_count]}),(0,o.jsx)("button",{onClick:()=>d(t.id),className:"absolute top-2 right-2 p-2 rounded-full bg-blue-500 text-white hover:bg-blue-600 transition",title:"Vote for this audiobook",children:t.has_voted?(0,o.jsx)(c.G,{icon:i.u8Q}):(0,o.jsx)(c.G,{icon:r.u8Q})})]},t.id))})]})}}},function(t){t.O(0,[676,908,906,971,69,744],function(){return t(t.s=6840)}),_N_E=t.O()}]);